<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" type="text/css" href="./css/questionnaire.css" />
<title>Questionnaire</title>
</head>
<body>
	<div align="right">
		<p th:text="'Welcome, ' + ${session.user.username} + '!'">Welcome,
			user.</p>
		<a th:href="@{/Logout}">Logout</a>
	</div>

	<div align="right">
		<a th:href="@{/HomePage}">Home</a>
	</div>

	<h1>Questionnaire</h1>

	<div th:if="${questAvail}">
		<h2>
			Product of the day: <span class="product_name"
				th:text="${product.name}">ERROR</span>
		</h2>
		<img alt="photo" class="product_img"
			th:src="*{'data:image/png;base64,'+ product.getImageData()}">

		<!--  TODO: display error text if there are no questions -->
		<form method="post" th:action="@{/ProcessAnswers}">
			<h3>Please answer these mandatory marketing questions:</h3>
			<div align="center" th:each="quest : ${questions}">
				<label th:for="${'markquest_' + quest.num}"
					th:text="${quest.num + '. ' + quest.text}">QUESTION TEXT</label><br>
				<textarea required rows="2" cols="40"
					th:name="${'markquest_' + quest.num}"
					th:id="${'markquest_' + quest.num}"
					placeholder="Insert answer here..."></textarea>
			</div>
			<h3>Additionally, you may answer these statistical questions:</h3>
			<div align="center">
				<p>Age:</p>
				<input type="number" name="age" min="3" max="130" placeholder="Age">
				<br>

				<p>Sex:</p>
				<input type="radio" name="sex" value="male">Male<br> <input
					type="radio" name="sex" value="female">Female<br> <input
					type="radio" name="sex" value="other">Other<br> <br>

				<p>Expertise:</p>
				<input type="radio" name="expertise" value="low">Low<br>
				<input type="radio" name="expertise" value="medium">Medium<br>
				<input type="radio" name="expertise" value="high">High<br>
				<br>
			</div>
			<div align="center">
				<input type="submit" value="Submit">
				<input type="reset" value="Reset">
			</div>

		</form>
	</div>

	<div th:unless="${questAvail}">
		<h2>No Daily Questionnaire Available!</h2>
		<p align="center">Come Back tomorrow!</p>
	</div>

</body>